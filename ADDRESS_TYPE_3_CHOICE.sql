CREATE TABLE ADDRESS_TYPE_3_CHOICE (
    ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY,
    CODE CHAR(4) CHECK ( LENGTH (CODE) = 4 ),
    PROPRIETARY NUMBER
);

ALTER TABLE ADDRESS_TYPE_3_CHOICE ADD (
    CONSTRAINT PK_ADDRESS_TYPE_3_CHOICE PRIMARY KEY (ID),
    CONSTRAINT FK_ADDRESS_TYPE_3_CHOICE_ADDRESS_TYPE_2_CODE FOREIGN KEY (CODE) REFERENCES ADDRESS_TYPE_2_CODE (CODE_SET),
    CONSTRAINT FK_ADDRESS_TYPE_3_CHOICE_GENERIC_IDENTIFICATION_30 FOREIGN KEY (PROPRIETARY) REFERENCES GENERIC_IDENTIFICATION_30 (ID),
    CONSTRAINT CK_CODE_PROPRIETARY_NULL CHECK ((CODE IS NULL AND PROPRIETARY IS NOT NULL) OR (CODE IS NOT NULL AND PROPRIETARY IS NULL))
);